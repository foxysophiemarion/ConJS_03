<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/style.css">
	<title>Continuation JS GB</title>
</head>
<body>
	<h1 class="yellow">Continuation JavaScript. HomeWork_3</h1>
	<p>GeekBrains</p>
	<br><br><br>

	<p class="super_element">Привет</p>
	<img src="https://placeimg.com/50/50/animals" alt="">
	<img src="https://placeimg.com/50/50/arch" alt="">
	<img src="https://placeimg.com/50/50/nature" alt="">
	<img src="https://placeimg.com/50/50/people" alt="">
	<img src="https://placeimg.com/50/50/tech" alt="">
	<img src="https://placeimg.com/50/50/tech/grayscale" alt="">
	<img src="https://placeimg.com/50/50/tech/sepia" alt="">
	<br>

	<button>Кнопка</button>
	<button class="super_element">Кнопка с классом btn</button>
	<button>Кнопка</button>

	<br>

	<textarea></textarea>

	<br>

	<ul>
		<li>
			<button>Кнопка 1</button>
		</li>
		<li>
			<button>Кнопка 2</button>
		</li>
		<li>
			<button>Кнопка 3</button>
		</li>
		<li>
			<button>Кнопка 4</button>
		</li>
	</ul>
	<script>
		'use strict';

		// 1. Необходимо вывести сообщение в консоль "все теги прогрузились", когда все теги будут созданы браузером.
		document.addEventListener('DOMContentLoaded', function () {
			console.log('Все теги прогрузились');
		}); // событие загрузки DOM дерева


		// 2. Необходимо вывести сообщение в консоль "страница загрузилась", когда все ресурсы страницы будут загружены.
		window.onload = function () {
			console.log('Страница загрузилась');
		} // событие загрузки страницы


		/* 3. При клике на какой-либо тег на странице в консоль должно выводиться сообщение наподобие:
		- Класс "super_element" присутствует в элементе "div".
		- сообщение должно определять присутствует или отсутствует класс "super_element"
		- у элемента, а также выводить в нижнем регистре верный тег в данной строке, по
		- которому был совершен клик.
		- Необходимо использовать делегирование.*/
		document.addEventListener('click', function (e) {
			const target = e.target; // получаем элемент, на который кликнули
			const tagName = target.tagName.toLowerCase(); // получаем тег 
			if (target.classList.contains('super_element')) {
				console.log(`Класс "super_element" присутствует в элементе "${tagName}".`); // проверяем, есть ли класс "super_element" в элементе "div"
			} else { console.log(`Класс "super_element" отсутствует в элементе "${tagName}".`); }
		});


		// 4. Сделайте, чтобы при наведении на textarea в консоли появлялось сообщение: "Вы навели на textarea."
		const textArea = document.querySelector('textarea'); // получаем textarea
		textArea.addEventListener('mouseover', () => {
			console.log('Вы навели на textarea.');
		});


		// 5. Необходимо повесить событие клика на тег ul. 
		// В обработчике события в консоль необходимо выводить текст, 
		// который записан внутри элемента кнопки, по которой был произведен клик.
		// Если клик был не по кнопке, то ничего выводить не нужно. Необходимо использовать делегирование.
		const ul = document.querySelector('ul'); // получаем ul
		ul.addEventListener('click', (e) => {
			if (e.target.tagName.toLowerCase() === 'button') {
				console.log(e.target.innerText); // получаем текст кнопки
			}
		});


		/*
		6. Если кнопка является дочерним элементом ul, то сначала выполняется обработчик событий для ul (выводит текст кнопки)
		Потом уже сработает обработчик для body (поиск элементов с классом super_element)
		То есть события обрабатываются в порядке их всплытия.
		*/


		// 7. С помощью JS необходимо изменить цвет заднего фона каждого второго тега li.
		const liColor = document.querySelectorAll('li'); // получаем все li
		liColor.forEach((li, index) => {
			if (index % 2 !== 0) {
				li.style.backgroundColor = 'orange'; // изменяем цвет заднего фона каждого второго тега li
			}
		});
	</script>
	<script src="/js/script.js"></script>
</body>
</html>